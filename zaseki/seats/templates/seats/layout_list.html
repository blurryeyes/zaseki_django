{% extends "base.html" %}

{% block main %}
<div class="container">
    <div class="welcome">
        <h1 class="title">座席表一覧</h1>
        <p class="subtitle">{% if user.is_authenticated %}ようこそ！{% else %}座席を登録する場合はログインしてください。{% endif %}</p>
    </div>

    {% if user.is_authenticated %}<a class="btn btn-primary" href="{% url 'layout_new' %}">新規レイアウト</a>{% endif %}
    {% if layouts %}
    <table class="table">
        <thead>
        <tr>
            <th>閲覧</th>
            <th>着席</th>
            <th>タイトル</th>
            <th>投稿者</th>
            <th>作成日</th>
            <th>更新日</th>
        </tr>
        </thead>
        <tbody>
        {% for layout in layouts %}
        <tr>
            <td><a class="btn btn-sm btn-primary" href="{% url 'seat_view' layout.id %}">GO!</a></td>
            <td><a class="btn btn-sm btn-success" href="{% url 'seat_sit' layout.id %}">GO!</a></td>
            <td><a href="{% url 'layout_detail' layout.id %}">{{ layout.layout_name }}</a></td>
            <td>{{ layout.created_by.get_full_name }}</td>
            <td>{{ layout.created_at }}</td>
            <td>{{ layout.updated_at }}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>座席表がありません。</p>
    {% endif %}
</div>
{% endblock main %}

